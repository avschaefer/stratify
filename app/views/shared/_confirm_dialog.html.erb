<%#
  Renders a reusable confirmation dialog.
  Required locals:
    message: The confirmation prompt to display.
  Optional locals:
    title: Heading text for the dialog (defaults to "Confirm Action").
    confirm_label: Label for the confirm button (defaults to "Confirm").
    confirm_icon: Optional icon class rendered inside the confirm button.
    confirm_button_class: CSS classes for the confirm button (defaults to "btn btn-danger").
%>
<% title ||= "Confirm Action" %>
<% confirm_label ||= "Confirm" %>
<% confirm_button_class ||= "btn btn-danger" %>
<dialog data-confirm-target="modal"
        class="modal"
        aria-modal="true"
        role="alertdialog"
        data-action="cancel->confirm#handleDialogCancel click->confirm#handleDialogClick">
  <div class="modal-content">
    <div class="modal-header border-0 pb-0">
      <h5 class="modal-title">
        <i class="bi bi-exclamation-triangle-fill text-warning me-2" aria-hidden="true"></i>
        <span><%= title %></span>
      </h5>
      <button type="button" class="btn-close" data-action="click->confirm#cancel" aria-label="Close"></button>
    </div>
    <div class="modal-body pt-0">
      <p data-confirm-target="message" class="mb-0"><%= message %></p>
    </div>
    <div class="modal-footer border-0">
      <button type="button" class="btn btn-secondary" data-action="click->confirm#cancel">Cancel</button>
      <button type="button"
              class="<%= confirm_button_class %>"
              data-action="click->confirm#commit">
        <% if confirm_icon.present? %>
          <i class="<%= confirm_icon %> me-1" aria-hidden="true"></i>
        <% end %>
        <%= confirm_label %>
      </button>
    </div>
  </div>
</dialog>
